<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Modifier Utilisateur</title>
    <meta name="description" content="Modifiez les informations de l'utilisateur sur Nouvelle Ère Lissoise. Mettez à jour l'email, le nom d'utilisateur, le nom, le prénom, l'âge et le rôle de l'utilisateur.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <section class="auth-container">
    <h2 class="title">Modifier <%= @user.email %></h2>

    <div class="auth-field">
      <%= form_with(model: [:admin, @user], local: true) do |form| %>
        <div class="form-group">
          <%= form.label :email %>
          <%= form.text_field :email, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :username %>
          <%= form.text_field :username, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :name %>
          <%= form.text_field :name, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :firstname %>
          <%= form.text_field :firstname, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :age %>
          <%= form.number_field :age, class: "form-control" %>
        </div>

        <% if current_user.admin? || current_user.super_admin? %>
          <div class="form-group">
            <%= form.label :role %>
            <%= form.select :role, [["Utilisateur", "user"], ["Admin", "administrateur"], ["Super Administrateur", "super_admin"]], {}, class: "form-control" %>
          </div>
        <% end %>

        <div class="auth-actions">
          <%= form.submit "Mettre à Jour", class: "btn btn-success" %>
          <%= link_to 'Retour', admin_users_path, class: "btn btn-danger" %>
        </div>
      <% end %>
    </div>
  </section>
</body>
</html>